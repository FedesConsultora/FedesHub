.reactBar{
  display:flex; gap:8px; align-items:center; margin-top:8px; flex-wrap:wrap;

  .reacts{
    display:flex; gap:6px; flex-wrap:wrap;

    .chipWrap{ position:relative; display:inline-flex; align-items:center; }

    .chip{
      display:inline-flex; align-items:center; gap:6px;
      padding: 2px 8px; border-radius: 12px;
      border:1px solid rgba(0,0,0,.08);
      background:rgba(0,0,0,.03); color:#0d1117; cursor:pointer;
      transition: transform .06s ease, background .12s ease, border-color .12s ease;
      &:hover{ transform: translateY(-1px); }
      &.mine{ border-color: rgba(0,150,255,.35); background: rgba(0,150,255,.08); }
      .em{ font-size: 16px }
      .n{ font-weight: 700; font-size: .9rem; }
    }

    .chipPopover{
      position:absolute; left:0; bottom: calc(100% + 6px);
      min-width: 220px; max-width: 280px; z-index: 40;
      background:#fff; color:#0d1117;
      border:1px solid rgba(0,0,0,.08); border-radius: 10px;
      box-shadow: 0 12px 32px rgba(0,0,0,.12);
      padding:8px 10px 10px;
      header{ font-size:12px; font-weight:800; color:#334155; margin-bottom:6px }
      ul{ list-style:none; padding:0; margin:0; display:grid; gap:4px; max-height: 240px; overflow:auto }
      li{ display:flex; align-items:center; gap:8px; padding:6px 8px; border-radius:8px;
        &:hover{ background: rgba(0,0,0,.04) }
        .name{ font-size:13px; font-weight:600; overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
      }
    }
  }

  .reactBtn.more{
    background: transparent; border: 1px dashed rgba(0,0,0,.14);
    border-radius: 10px; padding:2px 6px; padding-top: 7px; cursor: pointer; color:#0d1117;
    &:hover{ background: rgba(0,0,0,.05); }
  }

  .pickerWrap{ position:relative; }
}

/* ===== Portal (por encima y centrado SOLO con CSS) ===== */
.emojiPortalBackdrop{
  position: fixed; inset: 0; z-index: 9998;
  background: transparent; /* clic fuera para cerrar */
}

.emojiPortalLayer{
  position: fixed; inset: 0; z-index: 9999;
  display: grid; place-items: center; /* ♥ centro real */
  padding: 12px; /* margen con bordes de viewport */
  top: 33rem; left: 10rem;
}

.emojiPanel{
  background: #ffffff;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.18);
  max-width: min(92vw, 520px);
  max-height: min(86vh, 680px);
  overflow: auto; /* si el picker es más alto, scrollea */
}

/* (opcional) si tu EmojiPicker necesita un contenedor con padding: */
/*
.emojiPanel > *{
  padding: 6px;
}
*/
