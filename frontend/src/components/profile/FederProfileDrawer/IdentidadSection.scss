@use '../../../styles/variables' as v;

.pfIdentidad {
  position: relative;
  background: rgba(255, 255, 255, .04);
  border: 1px solid rgba(255, 255, 255, .08);
  border-radius: v.$radius-2xl;
  padding: 14px;
  box-shadow: v.$shadow-soft;
  color: v.$fh-text;

  h3 {
    margin: 0 0 12px 0
  }
}

/* Botón "Guardar" flotante (aparece sólo si hay cambios) */
.btnSaveFloating {
  position: absolute;
  top: 0px;
  right: 12px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: #fff;
  color: #0b0f15;
  border: 1px solid rgba(255, 255, 255, .85);
  padding: 9px 12px;
  border-radius: 14px;
  font-weight: 900;
  letter-spacing: .2px;
  font-size: .92rem;
  box-shadow: 0 8px 22px rgba(0, 0, 0, .18);
  transition: transform .06s ease, box-shadow .12s ease, opacity .12s ease;
  cursor: pointer;

  .txt {
    line-height: 1;
  }

  .spinner {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    border: 2px solid rgba(0, 0, 0, .25);
    border-top-color: #0b0f15;
    animation: idspin .8s linear infinite;
  }

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 26px rgba(0, 0, 0, .22);
    background-color: #fff;
  }

  &:disabled {
    opacity: .6;
    cursor: not-allowed;
    transform: none
  }
}

@keyframes idspin {
  to {
    transform: rotate(360deg)
  }
}

/* Grid fluido (mismo criterio que BasicInfo) */
.pfIdGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 12px;
}

/* Field + label */
.pfInput {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pfInput .lbl {
  margin: 0;
  font-weight: 800;
  font-size: 12px;
  letter-spacing: .2px;
  color: v.$fh-muted;

  .optional {
    font-weight: 400;
    opacity: .7;
    font-size: 11px;
  }
}

.pfInput .hint {
  margin: 4px 2px 0;
  font-size: 12px;
  line-height: 1.4;
  color: v.$fh-muted;
}

/* Controles grandes y consistentes */
.pfIdentidad .control {
  width: 100%;
  background: #0f141b;
  color: v.$fh-text;
  border: 1px solid rgba(255, 255, 255, .12);
  border-radius: 14px;
  outline: none;
  font-size: 1rem;
  line-height: 1.2;
  padding: 12px 14px;
  min-height: 48px;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;

  &::placeholder {
    color: rgba(255, 255, 255, .45)
  }

  &:focus {
    border-color: rgba(v.$fh-primary, .9);
    box-shadow: 0 0 0 2px rgba(v.$fh-primary, .28);
    background: #111823;
  }

  &:disabled {
    opacity: .6;
    cursor: not-allowed
  }
}

/* Select dropdown */
.pfIdentidad .control--select {
  appearance: none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat: no-repeat;
  background-position: right 14px center;
  background-size: 14px;
  padding-right: 40px;
  cursor: pointer;
}

/* Date input – icono visible en dark y mismo alto */
.pfIdentidad .control--date {

  /* Safari/Chrome */
  &::-webkit-calendar-picker-indicator {
    filter: invert(0.8);
    opacity: .9;
    cursor: pointer;
  }
}

/* Nota de privacidad */
.pfIdentidad .privacy-note {
  margin: 16px 0 4px;
  font-size: 11px;
  color: v.$fh-muted;
  text-align: center;
  opacity: .8;
}

/* Responsive fino */
@media (max-width: 420px) {
  .pfIdGrid {
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .pfIdentidad .control {
    min-height: 46px;
    padding: 11px 13px;
  }
}