@use '../../styles/variables' as v;

$border: rgba(255,255,255,.12);
$border-strong: rgba(255,255,255,.18);
$text:  v.$fh-text;
$muted: v.$fh-muted;

.TaskAttachments {
  .cardHeader{ display:flex; align-items:baseline; justify-content:space-between; gap:10px; 
    .title{ font-weight:800 } .subtitle{ color:$muted }
  }

  /* ===== Dropzone ===== */
  .att-drop{
    border:1px dashed $border-strong; border-radius:12px;
    background: rgba(255,255,255,.03);
    padding:10px; display:flex; flex-direction:column; align-items:center; gap:8px; justify-content: center;
    transition: background .18s ease, border-color .18s ease; 
    .pickBtn{
      display:inline-flex; align-items:center; gap:8px;
      padding:.56rem .8rem;  border: none; background: transparent; color:white; font-weight:600;
      padding-top: 1rem;
      &:hover{ filter:brightness(1.08) } &:disabled{ opacity:.6; cursor:not-allowed }
      span{ display:inline }
    }
    .drop-help{ font-size:.92rem; color:$muted; }
    &.is-over{ background:rgba(255,255,255,.06); border-color: rgba(v.$fh-accent,.5) }
  }

  /* ===== Lista ===== */
  .att-list{ list-style:none;padding:0; display:grid; gap:8px; }
  .attItem{
    display:grid; grid-template-columns: 20px 1fr auto auto; gap:10px; align-items:center;
    padding:8px 10px; border-radius:12px; background:rgba(255,255,255,.03); border:1px solid $border;
    transition: background .18s ease, border-color .18s ease;
    &:hover{ background:rgba(255,255,255,.06); border-color:$border-strong }
    .ico{ color:$muted; display:flex; align-items:center; justify-content:center }
    .name{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; color:$text;
      &.link{ display:inline-flex; align-items:center; gap:8px; text-decoration:none } .ext{ font-size:.82rem; opacity:.7 }
    }
    .mime{ margin-left:auto; font-size:.9rem; color:$muted }
    .rm{ margin-left:8px; width:34px; height:34px; border-radius:10px; border:1px solid transparent;
      background:transparent; color:$muted; cursor:pointer;
      &:hover{ background:rgba(255,255,255,.06); border-color:$border; color:#ffb4b4 }
      &:disabled{ opacity:.6; cursor:not-allowed }
    }
  }
  .empty{ color:$muted; text-align:center; padding:10px; border:1px dashed $border; border-radius:12px; background:rgba(255,255,255,.02); margin-top: 1rem;}

  /* ===== Alta por URL (labels arriba, inputs grandes) ===== */
  .att-add{
    margin-top:10px;
    display:grid; grid-template-columns: 1fr; gap:10px;

    .fld{ display:grid; gap:6px }
    .label{ font-weight:800; font-size:.92rem; color:$muted }
    .help{ font-size:.86rem }

    .att-input{
      height:44px; padding:.58rem .7rem; border-radius:10px; border:1px solid $border;
      background:#0f1419; color:$text; font-size:.98rem; font-weight:700;
      &:focus{ outline:none; border-color: rgba(v.$fh-primary,.6); box-shadow:0 0 0 3px rgba(v.$fh-primary,.18) }
    }

    .addBtn{
      justify-self:end;
      display:inline-flex; align-items:center; gap:8px;
      padding:.58rem .8rem; border-radius:10px; border:1px solid $border; background:v.$fh-primary; color:white; font-weight:800;
      &:hover{ filter:brightness(1.08) } &:disabled{ opacity:.6; cursor:not-allowed }
    }
  }

  /* skeleton */
  .att-skeleton{ margin-top:10px; display:grid; gap:6px;
    .skl{ height:38px; border-radius:10px; background:linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.12), rgba(255,255,255,.06)); background-size:200% 100%; animation: attSh 1.1s linear infinite }
    @keyframes attSh { 0%{background-position:200% 0} 100%{background-position:-200% 0} }
  }

  /* ===== Layout responsive: en pantallas amplias, grilla compacta ===== */
  @media (min-width: 1020px){
    .att-add{
      grid-template-columns: 1.1fr 2fr 1fr auto; align-items:end;
      .urlfld .help{ margin-top:-4px }  // queda pegadita al input
    }
  }

  /* Sidebar angosta */
  @media (max-width: 820px){
    .attItem{ grid-template-columns: 20px 1fr auto; .mime{ display:none } }
  }
}
